{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const fetchAllProducts = createAsyncThunk('products/fetchAll', async () => {\n  try {\n    const response = await axios.get(\"/api/products/getallproducts\");\n    return response.data;\n  } catch (err) {\n    throw err;\n  }\n});\nexport const fetchProductsById = createAsyncThunk(\"products/fetchById\", async (productbyid, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post(`/api/products/getproductbyid`, {\n      productbyid\n    });\n    return response.data;\n  } catch (err) {\n    console.log(err.response.data);\n    throw rejectWithValue(err.response.data);\n  }\n});\nexport const registerUser = createAsyncThunk(\"auth/registerUser\", async (user, {\n  rejectWithValue\n}) => {\n  try {\n    const token = await axios.post(`/api/user/register`, {\n      name: user.name,\n      email: user.email,\n      password: user.password\n    });\n    localStorage.setItem(\"token\", token.data);\n    return token.data;\n  } catch (err) {\n    throw rejectWithValue(err.response.data);\n  }\n});\nexport const loginUser = createAsyncThunk(\"auth/loginUser\", async (user, {\n  rejectWithValue\n}) => {\n  try {\n    const token = await axios.post(`/api/user/login`, {\n      email: user.email,\n      password: user.password\n    });\n    localStorage.setItem(\"token\", token.data);\n    return token.data;\n  } catch (err) {\n    throw rejectWithValue(err.response.data);\n  }\n});\nexport const filterProducts = createAsyncThunk('products/filterPrpducts', async (searchkey, sortkey, category, {\n  rejectWithValue\n}) => {\n  var filterProducts;\n  try {\n    const response = await axios.get(\"/api/products/getallproducts\");\n    if (searchkey) {\n      filterProducts = response.data.filter(product => {\n        return product.to;\n      });\n    }\n    return response.data;\n  } catch (err) {\n    throw rejectWithValue(err.response.data);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","fetchAllProducts","response","get","data","err","fetchProductsById","productbyid","rejectWithValue","post","console","log","registerUser","user","token","name","email","password","localStorage","setItem","loginUser","filterProducts","searchkey","sortkey","category","filter","product","to"],"sources":["/home/cl00807248/Desktop/mern-ecommerce/Client/src/Components/Redux/Actions/actions.js"],"sourcesContent":["import { createAsyncThunk} from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const fetchAllProducts = createAsyncThunk(\n    'products/fetchAll',\n    async () => {\n        try {\n          const response = await axios.get(\"/api/products/getallproducts\");\n          return response.data;\n        } catch (err) {\n          throw err; \n        }\n      }\n  );\n\n\nexport const fetchProductsById = createAsyncThunk(\n    \"products/fetchById\",\n    async (productbyid,{rejectWithValue}) => {\n        try {\n            const response = await axios.post(`/api/products/getproductbyid`,{productbyid});\n            return response.data\n        }\n        catch (err) {\n          console.log(err.response.data)\n            throw rejectWithValue(err.response.data)\n        }\n    }\n)\nexport const registerUser = createAsyncThunk(\n  \"auth/registerUser\",\n  async (user,{rejectWithValue}) => {\n      try {\n          const token = await axios.post(`/api/user/register`,{\n            name:user.name,\n            email:user.email,\n            password:user.password\n          });\n          localStorage.setItem(\"token\",token.data)\n          return token.data\n      }\n      catch (err) {\n          throw rejectWithValue(err.response.data)\n      }\n  }\n)\nexport const loginUser = createAsyncThunk(\n  \"auth/loginUser\",\n  async (user,{rejectWithValue}) => {\n      try {\n          const token = await axios.post(`/api/user/login`,{\n            email:user.email,\n            password:user.password\n          });\n          localStorage.setItem(\"token\",token.data)\n          return token.data\n      }\n      catch (err) {\n          throw rejectWithValue(err.response.data)\n      }\n  }\n)\nexport const filterProducts = createAsyncThunk(\n  'products/filterPrpducts',\n  async (searchkey,sortkey,category,{rejectWithValue}) => {\n    var filterProducts;\n      try {\n        const response = await axios.get(\"/api/products/getallproducts\");\n        if(searchkey) {\n          filterProducts = response.data.filter(product =>{return product.to})\n        }\n        return response.data;\n      } catch (err) {\n        throw rejectWithValue(err.response.data); \n      }\n    }\n);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}